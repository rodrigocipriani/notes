(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{275:function(e,t,n){e.exports=n(484)},280:function(e,t,n){},480:function(e,t,n){e.exports={"input-field":"WeatherComponent_input-field__3TnG6"}},482:function(e,t,n){},484:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(19),l=n.n(o),c=(n(280),n(25)),i=n(92),u=n(33),s=n(32),m=n(35),p=n(20),d=n(22),h="LOGIN",f="LOGOUT",g={user:null},E=n(23),b="NEW_TEXT",v={text:"# aaaaaaaaaaaaa"},O=n(204),y="NEW_NOTE",j="CHANGE_NOTE",w="RESET_LAST_NOTE_ID",C=n(286),A={notes:[]},N=n(144),k=n(196),x=n.n(k),T=n(97),_=n.n(T),D=(n(338),n(339),_.a.initializeApp({apiKey:"AIzaSyBy8EO3awpCW39D-G6GlnlLueOIWhkE3WU",authDomain:"notescipriani.firebaseapp.com",databaseURL:"https://notescipriani.firebaseio.com",projectId:"notescipriani",storageBucket:"notescipriani.appspot.com",messagingSenderId:"417734883803"}),_.a.database()),L=_.a.auth(),U=function e(){Object(c.a)(this,e)};U.getDataList=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,a=D.ref(e).limitToLast(n);return a.on("value",function(e){var n=[];e.forEach(function(e){var t=e.val();t.key=e.key,n.push(t)}),t(n)}),a},U.pushData=function(e,t){var n=D.ref(e).push(),a=D.ref(e).push().key;return n.set(t),a},U.remove=function(e,t){return D.ref(t+"/"+e).remove()},U.getUniqueDataBy=function(e,t,n){var a=D.ref(e+"/"+t),r={};a.once("value",function(e){if(e&&void 0!==e&&e.val()&&void 0!==e.val()){var t=e.val();Object.keys(t).forEach(function(e){r[e]=t[e]})}else n(null)}).then(function(){n(r)})},U.updateData=function(e,t,n){return D.ref(t+"/"+e).set(Object(E.a)({},n))},U.createUser=function(e,t){return L.createUserWithEmailAndPassword(e,t)},U.login=function(e,t){return L.signInWithEmailAndPassword(e,t)},U.logout=function(){return L.signOut()},U.onAuthChange=function(e,t){L.onAuthStateChanged(function(n){n?e(n):t(n)})};var S=Object(d.b)({userAuth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return"LOGIN"===t.type?t.user:"LOGOUT"===t.type?(U.logout(),null):e}}),W={key:"root",storage:x.a},I=Object(d.b)({rootReducer:S,appReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g;switch((arguments.length>1?arguments[1]:void 0).type){case h:case f:default:return e}},editorReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return Object(E.a)({},e,{text:t.payload});default:return e}},notesReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:var n={id:C(),content:"",new:!0};return Object(E.a)({},e,{notes:[].concat(Object(O.a)(e.notes),[n])});case j:var a=t.payload.id,r=t.payload.content,o=e.notes.map(function(e){return a!==e.id?e:Object(E.a)({},e,{content:r,new:!1})});return Object(E.a)({},e,{notes:o});case w:return Object(E.a)({},e,{lastNoteId:null});default:return e}}}),G=Object(N.a)(W,I),F=Object(d.c)(G),q=Object(N.b)(F),H=n(203),R=n(51),B=n.n(R),M=n(63),P=n.n(M),z=n(89),J=n.n(z),K=n(90),X=n.n(K),Y=n(91),$=n.n(Y),Q=n(86),V=n.n(Q),Z=n(85),ee=n.n(Z),te=n(87),ne=n.n(te),ae=n(197),re=n.n(ae),oe=n(66),le=n.n(oe),ce=n(5),ie=Object(p.b)(function(e,t){return{notes:e.notesReducer.notes}},function(e,t){return{newNote:function(t){return e(function(e){return{type:y,payload:e}}(t))},changeNote:function(t,n){return e(function(e,t){return{type:j,payload:{id:e,content:t}}}(t,n))}}})(function(e){var t=e.notes,n=(e.lastNoteId,e.changeNote),o=e.newNote,l=Object(a.useState)(null),c=Object(H.a)(l,2),i=c[0],u=c[1],s=function(e){return function(){i===e&&u(null)}},m=function(e){return function(t){e.new&&u(e.id),n(e.id,t.target.value)}};return r.a.createElement(B.a,{container:!0,spacing:8},r.a.createElement(B.a,{item:!0,xs:12},r.a.createElement(P.a,{className:le.a.root},t.map(function(e){return r.a.createElement(ce.d,{key:e.id,className:le.a.paper},r.a.createElement(J.a,{key:e.id,role:void 0,dense:!0,button:!0,onClick:(t=e.id,function(){u(t)})},i===e.id||e.new?r.a.createElement(ne.a,{id:"textfield-".concat(e.id),multiline:!0,autoFocus:!0,fullWidth:!0,value:e.content,onChange:m(e),margin:"normal",onBlur:s(e.id),className:le.a.noteTextField}):r.a.createElement(X.a,{className:le.a.noteContent,primary:e.content}),r.a.createElement($.a,null,r.a.createElement(V.a,{"aria-label":"Comments"},r.a.createElement(re.a,null)))));var t}))),r.a.createElement(B.a,{item:!0,xs:12},r.a.createElement(ee.a,{color:"primary",onClick:function(){o()}},"Criar uma nota...")))}),ue=n(84),se=n.n(ue),me=n(88),pe=n.n(me),de=n(64),he=n.n(de),fe=n(198),ge=n(488),Ee=n(486),be={home:{name:"Home",path:"/"},data:{name:"Data",path:"/data"},add:{name:"Add",path:"/add"},login:{name:"Login",path:"/login"},notes:{name:"Notes",path:"/notes"}},ve={name:"Edit",path:"/edit/:id",pathWithouParam:"/edit/"},Oe=n(489),ye=n(34),je=n(485),we=function(e){var t=e.data;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ce.l,{variant:"headline",component:"h2"},"Add New"),r.a.createElement(ce.e,{selectable:"false"},r.a.createElement(ce.h,null,r.a.createElement(ce.i,null,r.a.createElement(ce.g,null,"Key"),r.a.createElement(ce.g,null,"Temperature"),r.a.createElement(ce.g,null,"Humidity"),r.a.createElement(ce.g,null,"Client"),r.a.createElement(ce.g,null,"Data"),r.a.createElement(ce.g,null,"Actions"))),r.a.createElement(ce.f,null,t.map(function(e,t){return r.a.createElement(ce.i,{key:t},r.a.createElement(ce.g,null,e.key),r.a.createElement(ce.g,null,e.temperatura),r.a.createElement(ce.g,null,e.umidade),r.a.createElement(ce.g,null,e.cliente),r.a.createElement(ce.g,null,e.data),r.a.createElement(ce.g,null,r.a.createElement(ce.b,{onClick:function(){return t=e.key,void U.remove(t,"leituras");var t}},"Remove"),r.a.createElement(ce.b,{component:function(t){return r.a.createElement(je.a,Object.assign({to:"".concat(ve.pathWithouParam).concat(e.key)},t))}},"Edit")))}))))},Ce=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ce.l,{variant:"headline",component:"h2"},"Welcome"))},Ae=n(30),Ne=n(200),ke=n.n(Ne),xe=n(201),Te=n.n(xe),_e=Object(ye.a)(Object(Ae.withStyles)({root:{flexGrow:1},flex:{flex:1}}),Oe.a,Object(p.b)(function(e){return{userAuth:e.userAuth}},function(e){return{logout:function(){return e({type:"LOGOUT"})}}}))(function(e){var t=e.userAuth,n=e.logout,o=e.classes;return console.log("userAuth",t),r.a.createElement(ce.a,{position:"static"},r.a.createElement(ce.k,null,r.a.createElement(ce.c,{color:"inherit","aria-label":"Menu",component:function(e){return r.a.createElement(je.a,Object.assign({to:be.home.path},e))}},r.a.createElement(ke.a,null)),r.a.createElement(ce.l,{type:"title",color:"inherit",className:o.flex},"My Awesome React App"),t&&r.a.createElement(a.Fragment,null,r.a.createElement(ce.l,{type:"title",color:"inherit",style:{marginLeft:"20px"}},t.email),r.a.createElement(ce.c,{color:"inherit","aria-label":"Menu",onClick:function(){return n()}},r.a.createElement(Te.a,null)))))}),De=n(50),Le=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(n=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(o)))).state={id:null,temperatura:"",umidade:"",data:"",cliente:""},n.componentWillMount=function(){var e=n.props.match.params.id;void 0!==e&&e&&(n.setState({id:e}),U.getUniqueDataBy("leituras",e,function(e){return n.setState(Object(E.a)({},e),function(){return console.log(n.state)})}))},n.submit=function(e){e.preventDefault();var t={temperatura:n.state.temperatura,umidade:n.state.umidade,data:n.state.data,cliente:n.state.cliente};void 0===n.props.match.params.id?U.pushData("leituras",t):U.updateData(n.props.match.params.id,"leituras",t),n.props.history.push(be.data.path)},n.handleChange=function(e){return function(t){n.setState(Object(De.a)({},e,t.target.value))}},n.render=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ce.l,{variant:"headline",component:"h2"},"Add New"),r.a.createElement("form",{onSubmit:n.submit},r.a.createElement(ce.j,{className:"input-field",type:"text",value:n.state.temperatura,label:"Temperature",required:!0,onChange:n.handleChange("temperatura")}),r.a.createElement(ce.j,{className:"input-field",type:"text",label:"Humidity",value:n.state.umidade,required:!0,onChange:n.handleChange("umidade")}),r.a.createElement(ce.j,{className:"input-field",type:"text",label:"Date",value:n.state.data,required:!0,onChange:n.handleChange("data")}),r.a.createElement(ce.j,{className:"input-field",type:"email",label:"Client",value:n.state.cliente,required:!0,onChange:n.handleChange("cliente")}),r.a.createElement(ce.b,{type:"submit",style:{marginTop:"20px",display:"inline-block"}},"Add")))},n}return Object(m.a)(t,e),t}(a.Component),Ue=Object(Oe.a)(Le),Se=(n(480),function(e){function t(){var e,n;Object(c.a)(this,t);for(var o=arguments.length,l=new Array(o),i=0;i<o;i++)l[i]=arguments[i];return(n=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(l)))).state={email:"",password:""},n.createUser=function(e){e.preventDefault();var t=n.state.email,a=n.state.password;U.createUser(t,a).then(function(e){n.props.history.push(be.home.path),console.log(e)}).catch(function(e){alert(e.message)})},n.handleChange=function(e){return function(t){n.setState(Object(De.a)({},e,t.target.value))}},n.login=function(e){e.preventDefault();var t=n.state.email,a=n.state.password;U.login(t,a).then(function(e){n.props.history.push(be.home.path),console.log(e)}).catch(function(e){alert(e.message)})},n.render=function(){return r.a.createElement(a.Fragment,null,r.a.createElement(ce.l,{variant:"headline",component:"h2"},"Login"),r.a.createElement("form",{onSubmit:n.login},r.a.createElement(ce.j,{className:"input-field",type:"email",value:n.state.email,label:"email",required:!0,onChange:n.handleChange("email")}),r.a.createElement(ce.j,{className:"input-field",type:"password",value:n.state.password,label:"password",required:!0,onChange:n.handleChange("password")}),r.a.createElement(ce.b,{onClick:n.createUser,style:{marginTop:"20px",display:"inline-block"}},"New User"),r.a.createElement(ce.b,{type:"submit",style:{marginTop:"20px",display:"inline-block"}},"Login")))},n}return Object(m.a)(t,e),t}(a.Component)),We=Object(Oe.a)(Se),Ie=n(95),Ge=n(487),Fe=Object(ye.a)(Oe.a,Object(p.b)(function(e){return{userAuth:e.userAuth}}))(function(e){return function(e,t,n){return null!=e?r.a.createElement(Ge.a,{to:be.home.path}):r.a.createElement(t,n)}(e.userAuth,e.component,Object(Ie.a)(e,["userAuth","component"]))}),qe=Object(ye.a)(Oe.a,Object(p.b)(function(e){return{userAuth:e.userAuth}}))(function(e){return function(e,t,n){return null!=e?r.a.createElement(t,n):r.a.createElement(Ge.a,{to:be.login.path})}(e.userAuth,e.component,Object(Ie.a)(e,["userAuth","component"]))}),He=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).state={data:[]},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;U.getDataList("leituras",function(t){return e.setState({data:t})}),U.onAuthChange(function(t){return e.props.login(t)},function(){return e.props.logout()}),U.getDataList("leituras",function(t){return e.setState({data:t})})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(_e,null),Object.values(be).map(function(e,t){return r.a.createElement(ce.b,{raised:"true",key:t,component:function(t){return r.a.createElement(je.a,Object.assign({to:e.path},t))}},e.name)}),r.a.createElement(Ee.a,{exact:!0,path:be.login.path,render:function(e){return r.a.createElement(Fe,Object.assign({component:We},e))}}),r.a.createElement(Ee.a,{exact:!0,path:be.home.path,render:function(e){return r.a.createElement(qe,Object.assign({component:Ce},e))}}),r.a.createElement(Ee.a,{exact:!0,path:be.data.path,render:function(t){return r.a.createElement(qe,Object.assign({component:we},t,{data:e.state.data}))}}),r.a.createElement(Ee.a,{exact:!0,path:be.add.path,render:function(e){return r.a.createElement(qe,Object.assign({component:Ue},e))}}),r.a.createElement(Ee.a,{exact:!0,path:ve.path,render:function(e){return r.a.createElement(qe,Object.assign({component:Ue},e))}}))}}]),t}(a.Component),Re=Object(ye.a)(Oe.a,Object(p.b)(function(e){return{userAuth:e.userAuth}},function(e){return{login:function(t){return e({user:t,type:"LOGIN"})},logout:function(){return e({type:"LOGOUT"})}}}))(He),Be=function(){return r.a.createElement(ge.a,null,r.a.createElement(Ee.a,{path:be.home.path,component:Re}))},Me=(n(482),function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(p.a,{store:F},r.a.createElement(fe.a,{loading:null,persistor:q},r.a.createElement(se.a,{position:"static"},r.a.createElement(pe.a,null,r.a.createElement(he.a,{type:"title",color:"inherit"},"Notes by Cipriani"))),r.a.createElement(Be,null),r.a.createElement(ie,null)))}}]),t}(a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(Me,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},66:function(e,t,n){e.exports={root:"NotesHome_root__1gOHv",paper:"NotesHome_paper__2tgUq",noteContent:"NotesHome_noteContent__2Ya89",noteTextField:"NotesHome_noteTextField__1iAIU"}}},[[275,2,1]]]);
//# sourceMappingURL=main.dbc9b660.chunk.js.map